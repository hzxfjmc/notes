# 网页安全

网页安全问题是一个在开发中应该极其注重的问题。

# Navigator

* [同源策略](#同源策略)

* [XSS](#XSS)

* [CSRF](#CSRF)

* [SQL注入](#SQL注入)

* [点击劫持](#点击劫持)

* [window.opener安全问题](#window.opener安全问题)

* [文件上传漏洞](#文件上传漏洞)


## 同源策略

同源策略是一个重要的安全策略，它用于限制一个origin的文档或者它加载的脚本如何能与另外一个源的资源进行交互。它能帮助阻隔恶意文档，减少可能被攻击的媒介。同源策略是浏览器为了安全而做出的一种安全策略

原理：如果两个URL的协议、域名、端口都一致的话那么他们就是同源，相反就是不同源会有跨域问题

### 同原协议的问题

* 同源策略限制了不同的JavaScript脚本对当前Dom对象的读写操作

* 同源策略限制了不同源的站点读取当前站点的Cookie、IndexDB、localStorage等重要数据。

* 同源策略限制了通过XMLHttpRequest等方式将站点的数据发送不同源的站点

### 解决同源策略的方法

* 跨文档消息机制：可以通过window.postMessage的JavaScript接口来和不同源的DOM进行通信

* 跨域资源共享（CORS）：跨域资源在服务器设置允许跨域，就可以进行跨域访问控制，从而使跨域数据传输得以安全进行

* 内容安全策略（CSP）:主要以白名单的形式配置可信任的内容来源，在网页中，能够使白名单中的内容正常执行（包括JS、CSS、image等等），而非白名单的内容无法正常执行